<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>한양대학교 미디어커뮤니케이션학과 [미담] 소통창구</title>
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <script>
    emailjs.init("xHGPPlouVYfb7FcwW");
  </script>
  <style>
    body {
      font-family: 'Malgun Gothic', '맑은 고딕', Arial, sans-serif;
      padding: 40px;
      text-align: center;
    }
    h1 {
      font-weight: 800;
    }
    button {
      margin: 10px;
      padding: 15px 25px;
      font-size: 16px;
      cursor: pointer;
      border: none;
      border-radius: 12px;
    }
    textarea {
      width: 90%;
      height: 150px;
      font-size: 16px;
      padding: 10px;
      margin: 5px 0;
      border-radius: 12px;
      border: 1px solid #ccc;
      font-family: 'Malgun Gothic', '맑은 고딕', Arial, sans-serif;
    }
    .hidden {
      display: none;
    }
    .submit-button {
      background-color: #004EA2;
      color: white;
    }
  </style>
</head>
<body>
  <h1>한양대학교 미디어커뮤니케이션학과 [미담] 소통창구</h1>

  <div id="main-menu">
    <button onclick="window.open('https://nyc326.notion.site/757983542b23471681b24a5b96df9d0b', '_blank')">학교/학과생활 정보 습득</button>
    <button onclick="showFeedbackForm()">건의사항 작성하기</button>
    <button onclick="window.open('https://open.kakao.com/o/example', '_blank')">학생회 오픈채팅 연결</button>
  </div>

  <div id="feedback-form" class="hidden">
    <p>익명 건의사항은 학생회 회의에 회부될 수 있습니다. 아래에 내용을 작성해 주세요.</p>
    <h2>건의사항 작성하기</h2>
    <textarea id="message" placeholder="건의사항을 입력해 주세요."></textarea><br>
    <button class="submit-button" onclick="sendEmail()">전송</button>
  </div>

  <script>
    function showFeedbackForm() {
      document.getElementById("main-menu").style.display = "none";
      document.getElementById("feedback-form").style.display = "block";
    }

    function sendEmail() {
      const message = document.getElementById("message").value.trim();
      if (!message) {
        alert("내용을 입력해주세요.");
        return;
      }

      const params = {
        name: "익명",
        email: "anonymous@hanyang.ac.kr",
        message: message
      };

      console.log("전송 데이터:", params);

      emailjs.send("service_hyumedia", "template_hyumedia", params)
        .then(function(response) {
          alert("건의사항이 성공적으로 전송되었습니다.");
        }, function(error) {
          console.error("전송 오류:", error);
          alert("이메일 전송에 실패했습니다. 콘솔 로그를 확인하세요.");
        });
    }
  </script>

  <!--
    ✉️ Email 전송 관련 설정
    - USER ID (Public Key): xHGPPlouVYfb7FcwW
    - SERVICE ID: service_hyumedia
    - TEMPLATE ID: template_hyumedia
    - 이메일 수신자: endtheory@hanyang.ac.kr
    - 오픈채팅 링크는 https://open.kakao.com/o/example 부분 수정 가능
  -->
</body>
</html>
